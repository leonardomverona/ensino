<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Edificando ‚Äì Vers√£o do Aluno (13/04/2025)</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 2rem;
      background-color: #f8f9fa;
      color: #333;
      transition: background-color 0.3s, color 0.3s;
    }
    body.dark-mode {
      background-color: #2e2e2e;
      color: #ddd;
    }
    h1, h2, h3 {
      color: #004080;
    }
    body.dark-mode h1, 
    body.dark-mode h2,
    body.dark-mode h3 {
      color: #80c0ff;
    }
    .section {
      margin-bottom: 2rem;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-top: 0.5rem;
      margin-bottom: 1rem;
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    body.dark-mode textarea {
      background-color: #444;
      color: #ddd;
      border: 1px solid #666;
    }
    .box {
      background: #ffffff;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 1rem;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.05);
      margin-bottom: 2rem;
    }
    body.dark-mode .box {
      background: #3e3e3e;
      border: 1px solid #555;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.3);
    }
    /* Estilo para o elemento retr√°til */
    details {
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 0.5rem 1rem;
      margin-bottom: 2rem;
      background: #eef6ff;
    }
    body.dark-mode details {
      background: #555;
      border: 1px solid #888;
    }
    details summary {
      cursor: pointer;
      font-weight: bold;
      list-style: none;
    }
    details summary::-webkit-details-marker {
      display: none;
    }
    /* Bot√µes fixos para alternar modo e gerar PDF */
    .toggle-dark, .btn-pdf {
      position: fixed;
      right: 2rem;
      padding: 0.5rem 1rem;
      background: #004080;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      z-index: 1000;
      font-size: 0.9rem;
    }
    .toggle-dark {
      top: 1rem;
    }
    .btn-pdf {
      bottom: 1rem;
    }
  </style>
  <!-- Biblioteca html2canvas para capturar o conte√∫do -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <!-- Biblioteca jsPDF para gera√ß√£o do PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

  <!-- Bot√£o para alternar entre modo claro e escuro -->
  <button class="toggle-dark" id="toggle-dark">üåô Modo Escuro</button>
  <!-- Bot√£o para gerar PDF -->
  <button class="btn-pdf" id="gerarPDF">Gerar PDF üìÑ</button>

  <!-- Conte√∫do principal -->
  <div id="conteudo">
    <h1>üìù Edificando ‚Äì Vers√£o do Aluno</h1>
    <h2>Semana: 13/04/2025</h2>
    <p><strong>Texto Base:</strong> 2 Cor√≠ntios 5.11-17 (RA)<br/>
       <strong>Tema:</strong> A Hora √© Agora</p>

    <!-- Barra retr√°til com o texto b√≠blico -->
    <details>
      <summary>üìñ Ver texto de 2 Cor√≠ntios 5:11‚Äì17 (RA)</summary>
      <p><em>2 Cor√≠ntios 5:11‚Äì17 (RA)</em></p>
      <p><strong>11</strong> Sabendo-nos o temor de Deus, persuadimos os homens; por√©m, para Deus, somos conhecidos, e basta que se manifeste nossa consci√™ncia, pois, se o nosso conhecimento da verdade alcan√ßou os homens, o conhecimento de Deus se manifesta tamb√©m;</p>
      <p><strong>12</strong> porque, se fomos conhecidos segundo a carne, agora, por√©m, somos conhecidos segundo o Esp√≠rito;</p>
      <p><strong>13</strong> pois o amor de Cristo nos constrange, julgando-nos, de modo que, se um morreu por todos, assim morreram todos;</p>
      <p><strong>14</strong> e ele morreu por todos, para que os que vivem n√£o vivam mais para si mesmos, mas para aquele que por eles morreu e ressuscitou;</p>
      <p><strong>15</strong> de modo que, de agora em diante, ningu√©m mais nos conhece segundo a carne; se antes √©ramos conhecidos, agora, por√©m, somos conhecidos pelo Senhor;</p>
      <p><strong>16</strong> assim que, se algu√©m est√° em Cristo, √© nova criatura; as coisas velhas j√° passaram; eis que tudo se fez novo.</p>
      <p><small>(Nota: O texto pode variar conforme a edi√ß√£o da RA)</small></p>
    </details>

    <div class="section box">
      <h3>‚ú® Introdu√ß√£o</h3>
      <p>Terminamos nossa confer√™ncia mission√°ria refletindo sobre a necessidade de termos coragem para pregar o Evangelho.  
      Em 2 Cor√≠ntios, Paulo defende o seu minist√©rio e tamb√©m fala sobre aquilo que o encoraja a pregar o Evangelho.  
      Suas motiva√ß√µes se tornam para n√≥s um exemplo.</p>
      <p><strong>‚Üí Leitura do texto base:</strong> 2 Cor√≠ntios 5.11-17</p>
      <p><strong>‚Üí Espa√ßo para anotar algo que Deus falou ao seu cora√ß√£o:</strong></p>
      <textarea placeholder="Anote aqui..."></textarea>
    </div>

    <div class="section box">
      <h3>‚ùì Pergunta 1</h3>
      <p>O Catecismo de Heidelberg declara sobre o porqu√™ somos chamados crist√£os:</p>
      <blockquote>‚ÄúPorque pela f√© sou membro de Cristo e, por isso, tamb√©m sou ungido para ser profeta, sacerdote e rei.‚Äù (Pergunta 32)</blockquote>
      <p><strong>Diante desta realidade:</strong></p>
      <ul>
        <li>√â necess√°rio um chamado mission√°rio espec√≠fico para pregar o Evangelho?</li>
        <li>Quem possui esse chamado?</li>
      </ul>
      <textarea placeholder="Minha resposta..."></textarea>
    </div>

    <div class="section box">
      <h3>‚ùì Pergunta 2</h3>
      <p>De que modo o temor dos homens pode nos impedir de pregar o evangelho?</p>
      <p>Como o temor de Deus nos orienta a vencer este empecilho?</p>
      <textarea placeholder="Minha resposta..."></textarea>
    </div>

    <div class="section box">
      <h3>‚ùì Pergunta 3</h3>
      <p>Paulo afirma que o amor de Cristo nos constrange, ou nos domina.  
      Esse amor foi demonstrado a n√≥s por sua morte na Cruz.</p>
      <p><strong>Como o amor de Cristo por n√≥s nos encoraja a pregar o evangelho?</strong></p>
      <textarea placeholder="Minha resposta..."></textarea>
    </div>

    <div class="section box">
      <h3>‚ùì Pergunta 4</h3>
      <p><strong>De modo pr√°tico:</strong> Como voc√™ pode se envolver mais com a obra mission√°ria no seu dia-a-dia?</p>
      <p>Pense nesse envolvimento tanto de modo local como se envolvendo com miss√µes ao redor do mundo.</p>
      <textarea placeholder="Minha resposta..."></textarea>
    </div>

    <div class="section box">
      <h3>üèÅ Conclus√£o</h3>
      <p>Somos chamados a pregar o evangelho e a participar da miss√£o de Deus no mundo.  
      Cada encontro com algu√©m que ainda n√£o conhece Jesus √© uma oportunidade de compartilhar as boas novas do Jesus que te salvou.</p>
      <p><strong>Voc√™ est√° preparado?</strong><br/>üëâ <strong>A Hora √© agora!</strong></p>
    </div>

    <div class="section box">
      <h3>üìÖ Avisos</h3>
      <ul>
        <li><strong>20/04 ‚Äì Caf√© da Ressurrei√ß√£o √†s 09:30</strong><br/>Convide algu√©m para ouvir o Evangelho!</li>
        <li><strong>20/04 ‚Äì Cantata de P√°scoa √†s 19h</strong><br/>√ìtima oportunidade para evangelizar com arte e adora√ß√£o.</li>
      </ul>
      <p><strong>Desafio:</strong> Ore e convide algu√©m!</p>
    </div>
  </div>

  <script>
    // Alterna entre modo claro/escuro
    document.getElementById("toggle-dark").addEventListener("click", function() {
      document.body.classList.toggle("dark-mode");
      this.textContent = document.body.classList.contains("dark-mode") ? "‚òÄÔ∏è Modo Claro" : "üåô Modo Escuro";
    });

    // Fun√ß√£o para gerar o PDF com m√∫ltiplas p√°ginas
    document.getElementById("gerarPDF").addEventListener("click", function() {
      // Se estiver em modo escuro, remover temporariamente para gerar em modo claro
      const darkAtivo = document.body.classList.contains("dark-mode");
      if(darkAtivo){
        document.body.classList.remove("dark-mode");
      }
      
      // Aguarda a atualiza√ß√£o do layout antes de gerar o PDF
      setTimeout(() => {
        html2canvas(document.querySelector("#conteudo"), { scale: 2 }).then(function(canvas) {
          const imgData = canvas.toDataURL("image/png");
          const { jsPDF } = window.jspdf;
          const pdf = new jsPDF('p', 'mm', 'a4');
          const pdfWidth = pdf.internal.pageSize.getWidth();
          const pdfHeight = pdf.internal.pageSize.getHeight();
          const canvasWidth = canvas.width;
          const canvasHeight = canvas.height;
          // Calcula a propor√ß√£o para a imagem
          const imgWidth = pdfWidth;
          const imgHeight = canvasHeight * pdfWidth / canvasWidth;
          let heightLeft = imgHeight;
          let position = 0;
          
          // Adiciona a primeira p√°gina
          pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
          heightLeft -= pdfHeight;
          
          // Adiciona novas p√°ginas enquanto houver conte√∫do
          while (heightLeft > 0) {
            position = heightLeft - imgHeight;
            pdf.addPage();
            pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
            heightLeft -= pdfHeight;
          }
          
          pdf.save("Edificando_Versao_Aluno_13042025.pdf");
          
          // Se o modo escuro estava ativo, restaura-o
          if(darkAtivo){
            document.body.classList.add("dark-mode");
          }
        });
      }, 300); // 300ms para atualiza√ß√£o do layout
    });
  </script>
</body>
</html>
